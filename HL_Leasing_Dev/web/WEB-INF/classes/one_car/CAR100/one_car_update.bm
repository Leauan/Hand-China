<?xml version="1.0" encoding="UTF-8"?>
<!--
    $Author: nature 
    $Date: 2016-10-11 上午09:09:04  
    $Revision: 1.0  
    $Purpose: 
-->
<bm:model xmlns:bm="http://www.aurora-framework.org/schema/bm" needAccessControl="false">
    <bm:operations>
        <bm:operation name="query">
            <bm:query-sql><![CDATA[
        	SELECT t1.fld_make,t1.fld_model,t1.fld_trim,t1.fld_ccsj,t1.fld_price, to_char(t1.creation_date,'yyyy-mm-dd') create_date FROM gh_onecar_inter t1 #WHERE_CLAUSE#
    	]]></bm:query-sql>
        </bm:operation>
        <bm:operation name="update">
            <bm:update-sql><![CDATA[
                BEGIN
                    -- Call the procedure
                    gh_onecar_inter_pkg.update_onecar_inter(p_fld_make => ${@fld_make}, 
                    										p_fld_model => ${@fld_model}, 
                    										p_fld_trim => ${@fld_trim}, 
                   										 	p_fld_ccsj => ${@fld_ccsj}, 
                    										p_fld_price => ${@fld_price}, 
                    										p_is_delete_column =>${@is_delete_column}, 
                    										p_user_id => NVL(${/session/@user_id},${@user_id}));
                END;
            ]]></bm:update-sql>
        </bm:operation>
    </bm:operations>
    <bm:query-fields>
        <bm:query-field name="fld_make" queryExpression="t1.fld_make like &apos;%&apos;||${@fld_make}||&apos;%&apos;"/>
        <bm:query-field name="fld_model" queryExpression="t1.fld_model like &apos;%&apos;||${@fld_model}||&apos;%&apos;"/>
        <bm:query-field name="fld_trim" queryExpression="t1.fld_trim like &apos;%&apos;||${@fld_trim}||&apos;%&apos;"/>
        <bm:query-field name="fld_ccsj" queryExpression="t1.fld_ccsj like &apos;%&apos;||${@fld_ccsj}||&apos;%&apos;"/>
        <bm:query-field name="fld_price" queryExpression="t1.fld_price like &apos;%&apos;||${@fld_price}||&apos;%&apos;"/>
        <bm:query-field name="create_date" queryExpression="to_char(t1.creation_date,&apos;yyyy-mm-dd&apos;)=${@create_date}"/>
    </bm:query-fields>
</bm:model>
