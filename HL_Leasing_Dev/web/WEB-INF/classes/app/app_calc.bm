<?xml version="1.0" encoding="UTF-8"?>
<bm:model xmlns:bm="http://www.aurora-framework.org/schema/bm">
    <bm:operations>
        <bm:operation name="update">
            <bm:update-sql><![CDATA[
            	begin
            		cus_app_customer_pkg.app_calc(
            		 p_project_id            =>${@project_id},
                     p_bp_class              =>${@bp_class},
                     p_business_type         =>${@business_type},
                     p_division              =>${@division},
                     p_car_type              =>${@car_type},
                     p_brand_id              =>${@brand_id},
                     p_series_id             =>${@series_id},
                     p_model_id              =>${@model_id},
                     p_guide_price           =>${@guide_price},
                     p_objective_buy_car     =>${@objective_buy_car},
                     p_invoice_price         =>${@invoice_price},
                     p_item_frame_number     =>${@item_frame_number},
                     p_used_evaluation_amout =>${@used_evaluation_amout},
                     p_product_plan_id       =>${@product_plan_id},
                     p_down_payment_ratio    =>${@down_payment_ratio},
                     p_deposit_ratio         =>${@deposit_ratio},
                     p_balloon_ratio         =>${@balloon_ratio},
                     p_times                 =>${@times},
                     p_insurance_price       =>${@insurance_price},
                     p_travel_tax            =>${@travel_tax},
                     p_purchase_tax          =>${@purchase_tax},
                     p_gps_amount            =>${@gps_amount},
                     p_other_amount          =>${@other_amount},
                     p_charge_amount         =>${@charge_amount},
                     p_postage               =>${@postage},
                     p_user_id               =>nvl(${/session/@user_id},${@user_id}),
                     p_pmt                   =>${@pmt},
                     p_down_payment          =>${@down_payment},
                     p_finance_amount        =>${@finance_amount},
                     p_deposit               =>${@deposit},
                     p_lease_charge          =>${@lease_charge},
                     p_balloon               =>${@balloon},
                     p_first_payment         =>${@first_payment});
           		end;
            ]]></bm:update-sql>
            <bm:parameters>
                <bm:parameter name="project_id" dataType="java.lang.Long" input="true" output="true" outputPath="/parameter/@project_id"/>
                <bm:parameter name="times" dataType="java.lang.Long" input="true" output="true" outputPath="/parameter/@times"/>
                <bm:parameter name="pmt" dataType="java.lang.Double" input="false" output="true" outputPath="/parameter/@pmt"/>
                <bm:parameter name="down_payment" dataType="java.lang.Double" input="false" output="true" outputPath="/parameter/@down_payment"/>
                <bm:parameter name="finance_amount" dataType="java.lang.Double" input="false" output="true" outputPath="/parameter/@finance_amount"/>
                <bm:parameter name="deposit" dataType="java.lang.Double" input="false" output="true" outputPath="/parameter/@deposit"/>
                <bm:parameter name="lease_charge" dataType="java.lang.Double" input="false" output="true" outputPath="/parameter/@lease_charge"/>
                <bm:parameter name="balloon" dataType="java.lang.Double" input="false" output="true" outputPath="/parameter/@balloon"/>
                <bm:parameter name="first_payment" dataType="java.lang.Double" input="false" output="true" outputPath="/parameter/@first_payment"/>
            </bm:parameters>
        </bm:operation>
    </bm:operations>
</bm:model>
