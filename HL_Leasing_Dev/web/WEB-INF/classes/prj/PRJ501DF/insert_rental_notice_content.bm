<?xml version="1.0" encoding="UTF-8"?>
<bm:model xmlns:bm="http://www.aurora-framework.org/schema/bm">
    <bm:operations>
        <bm:operation name="update">
            <bm:parameters>
                <bm:parameter name="content_id" dataType="java.lang.Long" input="false" output="true"/>
                <bm:parameter name="document_id" dataType="java.lang.Long" input="true" output="false"/>
                <bm:parameter name="document_table" dataType="java.lang.String" input="true" output="false"/>
                <bm:parameter name="templet_code" dataType="java.lang.String" input="true" output="false"/>
                <bm:parameter name="file_name" dataType="java.lang.String" input="true" output="false"/>
                <!-- <bm:parameter name="clause_usage" dataType="java.lang.String" input="true" output="false" /> -->
                <!-- <bm:parameter name="templet_id" dataType="java.lang.Long" input="true" output="false" /> -->
                <bm:parameter name="user_id" dataType="java.lang.Long" input="true" output="false"/>
            </bm:parameters>
            <bm:update-sql><![CDATA[
            	declare 
            	   v_templete_id  number;
                begin
                    select t.templet_id 
                      into 
                      v_templete_id
                    from con_clause_templet t 
                    where t.templet_code = ${@templet_code};
					    HLS_DOC_FILE_TEMPLET_PKG.INS_HLS_DOC_FILE_CONTENT
	                    (
	                        p_content_id=>${@content_id},
	                        p_document_id=>${@document_id},
	                        p_document_table=>${@document_table},
	                        p_clause_usage=>${@templet_code},
	                        p_templet_id=>v_templete_id,
	                        p_user_id=>${/session/@user_id},
	                        p_ref_v01 =>${@file_name}
	                    );     
                end;]]></bm:update-sql>
        </bm:operation>
    </bm:operations>
</bm:model>
