<?xml version="1.0" encoding="UTF-8"?>
<bm:model xmlns:bm="http://www.aurora-framework.org/schema/bm">
    <bm:operations>
        <bm:operation name="query">
            <bm:query-sql><![CDATA[
                SELECT
                    *
                FROM
                    (SELECT
                        t.record_id,
                        t.function_code,
                        t.ref_v01,
                        t.ref_v02,
                        t.ref_v03,
                        t.ref_v04,
                        t.ref_v05,
                        t.ref_v06,
                        t.ref_v07,
                        t.ref_v08,
                        t.ref_v09,
                        t.ref_v10,
                        t.ref_v11,
                        t.ref_v12,
                        t.ref_v13,
                        t.ref_v14,
                        t.ref_v15,
                        t.ref_v16,
                        t.ref_v17,
                        t.ref_v18,
                        t.ref_v19,
                        t.ref_v20,
                        t.ref_n01,
                        round(t.ref_n02,2) ref_n02,
                        round(t.ref_n03,2) ref_n03,
                        round(t.ref_n04,2) ref_n04,
                        round(t.ref_n05,2) ref_n05,
                        t.ref_n06,
                        t.ref_n07,
                        t.ref_n08,
                        t.ref_n09,
                        t.ref_n10,
                        t.ref_d01,
                        TO_CHAR(t.ref_d01,'YYYY-MM-DD') ref_d01_char,
                        t.ref_d02,
                        t.ref_d03,
                        t.ref_d04,
                        t.ref_d05
                    FROM
                        hl_rpt_report_data t
                    ) t1 #WHERE_CLAUSE#
                ORDER BY
                    t1.ref_n06,
                    t1.ref_v05
                    
            ]]></bm:query-sql>
        </bm:operation>
    </bm:operations>
    <bm:query-fields>
        <bm:query-field name="ref_n01" queryExpression=" t1.ref_n01 = ${@ref_n01}"/>
        <bm:query-field name="ref_v01" queryExpression=" t1.ref_n06 in (select bp_id from hls_bp_master where bp_code like &apos;%&apos;|| ${@ref_v01} ||&apos;%&apos;)"/>
        <bm:query-field name="ref_v02" queryExpression=" t1.ref_n06 in (select bp_id from hls_bp_master where bp_name like &apos;%&apos;||  ${@ref_v02} ||&apos;%&apos;)"/>
    </bm:query-fields>
    <bm:data-filters>
        <bm:data-filter name="function_code" expression="t1.function_code =&apos;RPT5110&apos;"/>
    </bm:data-filters>
</bm:model>
