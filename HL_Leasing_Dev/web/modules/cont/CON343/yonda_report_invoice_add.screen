<?xml version="1.0" encoding="UTF-8"?>
<!--
    $Author: qianming 
    $Date: 2015-5-28 下午4:39:21  
    $Revision: 1.0  
    $Purpose: 
-->
<a:screen xmlns:a="http://www.aurora-framework.org/application">
    <a:init-procedure/>
    <a:view>
        <a:dataSets>
            <a:dataSet id="business_type_ds" loadData="true" model="cont.CON343.hls_business_type"/>
            <a:dataSet id="yonda_report_invoice_add_v_query_ds" autoCreate="true">
                <a:fields>
                    <a:field name="bp_name" lovGridHeight="330" lovHeight="470" lovLabelWidth="120" lovService="cont.CON343.hls_bp_master_v_all_lov?bp_category=TENANT" lovWidth="700" title="承租人">
                        <a:mapping>
                            <a:map from="bp_id" to="bp_id"/>
                            <a:map from="bp_name" to="bp_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="spv_company_name" lovGridHeight="330" lovHeight="500" lovService="cont.CON343.fnd_companies_for_lov" lovWidth="620" title="出租方">
                        <a:mapping>
                            <a:map from="company_id" to="spv_company_id"/>
                            <a:map from="company_short_name" to="spv_company_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="business_type"/>
                    <a:field name="business_type_n" displayField="code_value_name" options="business_type_ds" returnField="business_type" valueField="code_value"/>
                </a:fields>
            </a:dataSet>
            <a:dataSet id="yonda_report_invoice_add_v_result_ds" autoPageSize="true" model="cont.CON343.yonda_report_invoice_add_v" queryDataSet="yonda_report_invoice_add_v_query_ds"/>
        </a:dataSets>
        <a:screenBody>
            <a:queryForm id="yonda_report_invoice_add_v_query_id" bindTarget="yonda_report_invoice_add_v_query_ds" createSearchButton="true" marginWidth="35" resultTarget="yonda_report_invoice_add_v_result_ds">
                <a:formToolBar labelWidth="110">
                    <a:textField name="contract_number" prompt="合同编号"/>
                    <a:lov name="bp_name" prompt="承租人"/>
                    <a:lov name="spv_company_name" prompt="出租方"/>
                    <a:textField name="invoice_send_address" prompt="发票寄送地址"/>
                </a:formToolBar>
                <a:formBody column="4" labelWidth="122">
                    <a:textField name="contact_person" prompt="联系人"/>
                    <a:textField name="phone_extra" prompt="联系人电话"/>
                    <a:textField name="invoice_title" prompt="开票抬头"/>
                    <a:comboBox name="business_type_n" prompt="商业模式"/>
                    <a:datePicker name="inception_of_lease_from" prompt="起租日从"/>
                    <a:datePicker name="inception_of_lease_to" prompt="起租日至"/>
                    <a:numberField name="pmt_from" prompt="每期租金从"/>
                    <a:numberField name="pmt_to" prompt="每期租金至"/>
                    <a:numberField name="poundage_from" prompt="手续费从"/>
                    <a:numberField name="poundage_to" prompt="手续费至"/>
                    <a:numberField name="first_payment_from" prompt="首付款从"/>
                    <a:numberField name="first_payment_to" prompt="首付款至"/>
                    <a:numberField name="deposit_from" prompt="保证金从"/>
                    <a:numberField name="deposit_to" prompt="保证金至"/>
                    <a:numberField name="plate_fee_from" prompt="牌照费从"/>
                    <a:numberField name="plate_fee_to" prompt="牌照费至"/>
                </a:formBody>
            </a:queryForm>
            <a:grid id="grid_id" bindTarget="yonda_report_invoice_add_v_result_ds" marginHeight="100" marginWidth="35" navBar="true" showRowNumber="true">
                <a:toolBar>
                    <a:button type="excel"/>
                    <a:button type="clear"/>
                </a:toolBar>
                <a:columns>
                    <a:column name="contract_number" lock="true" prompt="合同编号" width="140"/>
                    <a:column name="bp_name" lock="true" prompt="承租人" showTitle="true" width="200"/>
                    <a:column name="spv_company_name" prompt="出租方" showTitle="true" width="180"/>
                    <a:column name="business_type_n" prompt="商业模式" showTitle="true" width="130"/>
                    <a:column name="lease_term" align="center" prompt="租赁年限" width="60"/>
                    <a:column name="inception_of_lease" align="center" prompt="起租日" width="80"/>
                    <a:column name="invoice_title" prompt="开票抬头" showTitle="true" width="180"/>
                    <a:column name="pmt" align="right" prompt="每期租金" renderer="Aurora.formatMoney" width="100"/>
                    <a:column name="poundage" align="right" prompt="手续费" renderer="Aurora.formatMoney" width="100"/>
                    <a:column name="first_payment" align="right" prompt="首付款" renderer="Aurora.formatMoney" width="100"/>
                    <a:column name="deposit" align="right" prompt="保证金" renderer="Aurora.formatMoney" width="100"/>
                    <a:column name="plate_fee" align="right" prompt="牌照费" renderer="Aurora.formatMoney" width="100"/>
                    <a:column name="contact_person" prompt="联系人" showTitle="true" width="100"/>
                    <a:column name="phone_extra" prompt="联系人电话" width="120"/>
                    <a:column name="invoice_send_address" prompt="发票寄送地址" showTitle="true" width="180"/>
                </a:columns>
            </a:grid>
        </a:screenBody>
    </a:view>
</a:screen>
