<?xml version="1.0" encoding="UTF-8"?>
<!--
    $Author: qianming 
    $Date: 2015-5-25 下午12:36:59  
    $Revision: 1.0  
    $Purpose: 
-->
<a:screen xmlns:a="http://www.aurora-framework.org/application">
    <a:init-procedure/>
    <a:view>
        <script><![CDATA[
		]]></script>
        <a:dataSets>
            <a:dataSet id="yes_no_ds" lookupCode="YES_NO"/>
            <a:dataSet id="yonda_report_gps_v_query_ds" autoCreate="true">
                <a:fields>
                    <a:field name="unit_id"/>
                    <a:field name="bp_name" lovGridHeight="330" lovHeight="470" lovLabelWidth="120" lovService="ast.AST606.hls_bp_master_v_all_lov?bp_category=TENANT" lovWidth="700" title="承租人">
                        <a:mapping>
                            <a:map from="bp_id" to="bp_id"/>
                            <a:map from="bp_name" to="bp_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="unit_id"/>
                    <a:field name="unit_name" lovGridHeight="300" lovHeight="450" lovService="ast.AST606.exp_org_unit_vl" lovWidth="600" title="4s">
                        <a:mapping>
                            <a:map from="unit_id" to="unit_id"/>
                            <a:map from="description" to="unit_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="brand_id"/>
                    <a:field name="brand_name" lovGridHeight="300" lovHeight="450" lovService="ast.AST606.hls_car_brands_vl" lovWidth="500">
                        <a:mapping>
                            <a:map from="brand_id" to="brand_id"/>
                            <a:map from="description" to="brand_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="series_id"/>
                    <a:field name="series_name" lovGridHeight="300" lovHeight="450" lovService="ast.AST606.hls_car_series_vl" lovWidth="500">
                        <a:mapping>
                            <a:map from="series_id" to="series_id"/>
                            <a:map from="description" to="series_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="model_id"/>
                    <a:field name="model_name" lovGridHeight="300" lovHeight="450" lovService="ast.AST606.hls_car_model_vl" lovWidth="700">
                        <a:mapping>
                            <a:map from="model_id" to="model_id"/>
                            <a:map from="description" to="model_name"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="gps_install_flag"/>
                    <a:field name="gps_install_flag_n" displayField="code_value_name" options="yes_no_ds" returnField="gps_install_flag" valueField="code_value"/>
                    <a:field name="gps_absolution_apply_flag"/>
                    <a:field name="gps_absolution_apply_flag_n" displayField="code_value_name" options="yes_no_ds" returnField="gps_absolution_apply_flag" valueField="code_value"/>
                    <a:field name="gps_installed_flag"/>
                    <a:field name="gps_installed_flag_n" displayField="code_value_name" options="yes_no_ds" returnField="gps_installed_flag" valueField="code_value"/>
                    <a:field name="gps_enabled_flag"/>
                    <a:field name="gps_enabled_flag_n" displayField="code_value_name" options="yes_no_ds" returnField="gps_enabled_flag" valueField="code_value"/>
                    <a:field name="gps_provider_name" lovGridHeight="330" lovHeight="470" lovLabelWidth="120" lovService="ast.AST606.hls_bp_master_v_all_lov?bp_category=VENDER&amp;bp_type=GPS_VENDER" lovWidth="700" title="承租人">
                        <a:mapping>
                            <a:map from="bp_id" to="gps_provider_id"/>
                            <a:map from="bp_name" to="gps_provider_name"/>
                        </a:mapping>
                    </a:field>
                </a:fields>
            </a:dataSet>
            <a:dataSet id="yonda_report_gps_v_result_ds" autoPageSize="true" model="ast.AST606.yonda_report_gps_v" queryDataSet="yonda_report_gps_v_query_ds"/>
        </a:dataSets>
        <a:screenBody>
            <a:queryForm id="yonda_report_gps_v_query_id" bindTarget="yonda_report_gps_v_query_ds" createSearchButton="true" marginWidth="35" resultTarget="yonda_report_gps_v_result_ds">
                <a:formToolBar labelWidth="110">
                    <a:textField name="contract_number" prompt="合同编号"/>
                    <a:textField name="contract_name" prompt="合同名称"/>
                    <a:lov name="bp_name" prompt="承租人"/>
                    <a:textField name="owner_user_name" prompt="金融专员"/>
                </a:formToolBar>
                <a:formBody column="4" labelWidth="145">
                    <a:lov name="brand_name" prompt="品牌"/>
                    <a:lov name="series_name" prompt="车系"/>
                    <a:lov name="model_name" prompt="车型"/>
                    <a:textField name="imei" prompt="设备号"/>
                    <a:lov name="unit_name" prompt="4s店"/>
                    <a:textField name="item_frame_number" prompt="车架号"/>
                    <a:textField name="install_address" prompt="安装地址"/>
                    <a:lov name="gps_provider_name" prompt="提供商"/>
                    <a:comboBox name="gps_install_flag_n" prompt="是否需要安装"/>
                    <a:comboBox name="gps_absolution_apply_flag_n" prompt="是否免除安装"/>
                    <a:comboBox name="gps_installed_flag_n" prompt="是否已安装"/>
                    <a:comboBox name="gps_enabled_flag_n" prompt="GPS是否启用"/>
                    <a:datePicker name="install_date_from" prompt="安装日期从"/>
                    <a:datePicker name="install_date_to" prompt="安装日期至"/>
                    <a:datePicker name="remove_date_from" prompt="拆除日期从"/>
                    <a:datePicker name="remove_date_to" prompt="拆除日期至"/>
                </a:formBody>
            </a:queryForm>
            <a:grid id="grid_id" bindTarget="yonda_report_gps_v_result_ds" marginHeight="100" marginWidth="35" navBar="true" showRowNumber="true">
                <a:toolBar>
                    <a:button type="excel"/>
                    <a:button type="clear"/>
                </a:toolBar>
                <a:columns>
                    <a:column name="contract_number" lock="true" prompt="合同编号" showTitle="true" width="140"/>
                    <a:column name="bp_name" lock="true" prompt="承租人" showTitle="true" width="180"/>
                    <a:column name="contract_name" prompt="合同名称" showTitle="true" width="180"/>
                    <a:column name="unit_name" prompt="4s店" showTitle="true" width="150"/>
                    <a:column name="owner_user_name" prompt="金融专员" showTitle="true"/>
                    <a:column name="brand_name" prompt="品牌" showTitle="true"/>
                    <a:column name="series_name" prompt="车系" showTitle="true"/>
                    <a:column name="model_name" prompt="车型" showTitle="true" width="140"/>
                    <a:column name="item_frame_number" prompt="车架号" showTitle="true" width="140"/>
                    <a:column name="gps_install_flag" align="center" prompt="是否需要安装" width="80"/>
                    <a:column name="gps_absolution_apply_flag" align="center" prompt="是否免除安装" width="80"/>
                    <a:column name="gps_installed_flag" align="center" prompt="是否已安装" width="80"/>
                    <a:column name="gps_enabled_flag" align="center" prompt="GPS是否启用" width="80"/>
                    <a:column name="install_date" align="center" prompt="安装日期" width="80"/>
                    <a:column name="gps_fee" align="right" prompt="支出费用" renderer="Aurora.formatMoney" width="100"/>
                    <a:column name="install_address" prompt="安装地址" showTitle="true" width="180"/>
                    <a:column name="imei" prompt="设备号" showTitle="true" width="120"/>
                    <a:column name="install_location" prompt="安装位置" showTitle="true" width="100"/>
                    <a:column name="gps_provider_name" prompt="提供商" showTitle="true" width="180"/>
                    <a:column name="remove_date" align="center" prompt="拆除日期" width="80"/>
                    <a:column name="note" prompt="备注" showTitle="true" width="120"/>
                </a:columns>
            </a:grid>
        </a:screenBody>
    </a:view>
</a:screen>
