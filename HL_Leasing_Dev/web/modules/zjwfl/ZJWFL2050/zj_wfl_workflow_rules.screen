<?xml version="1.0" encoding="UTF-8"?>
<!--
    $Author: Hubrt  
    $Date: 2015-12-24 上午8:37:24  
    $Revision: 1.0  
    $Purpose: 
-->
<a:screen xmlns:a="http://www.aurora-framework.org/application">
    <a:init-procedure/>
    <a:view>
        <script><![CDATA[
    		function workflow_rules_result_ds_query(){
    			$('workflow_rules_result_ds').query();
    		}
    		function workflow_rules_query_ds_reset(){
    		    $('workflow_rules_query_ds').reset();
    		}
    		function editorFun_workflow_rules_result_grid(record,name){
    		    
    		        if(name == "rule_code"){
    		            return 'workflow_rules_result_grid_tf';
    		        }
    		        if(name == "procedure_name"){
    		            return 'workflow_rules_result_grid_tf';
    		        }
    		        if(name == 'description'){
    		            return 'workflow_rules_result_grid_tf';
    		        }
    		    
    		    
    		}
    		
    		
    	]]></script>
        <a:dataSets>
            <a:dataSet id="enabled_flag_ds" lookupCode="YES_NO"/>
            <a:dataSet id="rule_type_ds" lookupCode="ZJ_WFL_RULE_TYPE"/>
            <a:dataSet id="workflow_rules_query_ds" autoCreate="true" model="zjwfl.ZJWFL2050.zj_wfl_workflow_rules">
                <a:fields>
                    <!-- <a:field name="rule_code" lovGridHeight="300" lovHeight="450" lovService="zjwfl.ZJWFL2050.zj_wfl_workflow_rules_type_lov" lovWidth="550" title="规则类型"/> -->
                    <a:field name="rule_code"/>
                    <a:field name="rule_type"/>
                    <a:field name="description"/>
                    <a:field name="enabled_flag_n" displayField="code_value_name" options="enabled_flag_ds" returnField="enabled_flag" valueField="code_value"/>
                    <a:field name="sys_flag_n" displayField="code_value_name" options="enabled_flag_ds" returnField="sys_flag" valueField="code_value"/>
                    <a:field name="rule_type_desc" displayField="code_value_name" options="rule_type_ds" returnField="rule_type" valueField="code_value"/>
                </a:fields>
            </a:dataSet>
            <a:dataSet id="workflow_rules_result_ds" autoPageSize="true" autoQuery="true" model="zjwfl.ZJWFL2050.zj_wfl_workflow_rules" queryDataSet="workflow_rules_query_ds" selectable="true">
                <a:fields>
                    <a:field name="rule_code" required="true"/>
                    <a:field name="description"/>
                    <a:field name="procedure_name" required="true"/>
                    <a:field name="sys_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="approver_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="notice_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="enabled_flag" checkedValue="Y" defaultValue="N" uncheckedValue="N"/>
                    <a:field name="rule_type_desc" displayField="code_value_name" options="rule_type_ds" returnField="rule_type" valueField="code_value"/>
                </a:fields>
            </a:dataSet>
        </a:dataSets>
        <a:screenBody>
            <a:form column="5" labelWidth="80" marginWidth="30" title="查询条件">
                <a:textField name="rule_code" bindTarget="workflow_rules_query_ds" prompt="规则代码"/>
                <a:textField name="rule_type" bindTarget="workflow_rules_query_ds" prompt="规则类型"/>
                <a:textField name="description" bindTarget="workflow_rules_query_ds" prompt="规则描述"/>
                <a:comboBox name="sys_flag_n" bindTarget="workflow_rules_query_ds" prompt="系统创建"/>
                <a:comboBox name="enabled_flag_n" bindTarget="workflow_rules_query_ds" prompt="是否启用"/>
            </a:form>
            <a:hBox>
                <a:button click="workflow_rules_result_ds_query" text="HAP_QUERY"/>
                <a:button click="workflow_rules_query_ds_reset" text="HAP_RESET"/>
            </a:hBox>
            <a:grid id="workflow_rules_result_grid" bindTarget="workflow_rules_result_ds" marginHeight="160" marginWidth="30" navBar="true">
                <a:toolBar>
                    <a:button type="add"/>
                    <a:button type="clear"/>
                    <a:button type="save"/>
                </a:toolBar>
                <a:columns>
                    <a:column name="rule_code" editorFunction="editorFun_workflow_rules_result_grid" lock="true" prompt="规则代码" width="200"/>
                    <a:column name="description" editorFunction="editorFun_workflow_rules_result_grid" lock="true" prompt="描述"/>
                    <a:column name="procedure_name" editorFunction="editorFun_workflow_rules_result_grid" lock="true" prompt="执行过程" width="300"/>
                    <a:column name="sys_flag" editor="workflow_rules_result_grid_cb" prompt="系统创建标志"/>
                    <a:column name="enabled_flag" editor="workflow_rules_result_grid_cb" prompt="是否启用"/>
                    <a:column name="rule_type_desc" editor="workflow_rules_result_grid_cbb" prompt="审批规则类型"/>
                    <a:column name="parameter_1_type" editor="workflow_rules_result_grid_tf" prompt="参数1类型"/>
                    <a:column name="parameter_1_desc" editor="workflow_rules_result_grid_tf" prompt="参数1描述"/>
                    <a:column name="parameter_1_url" editor="workflow_rules_result_grid_tf" prompt="lov组件文件名" width="150"/>
                    <a:column name="parameter_2_type" editor="workflow_rules_result_grid_tf" prompt="参数2类型"/>
                    <a:column name="parameter_2_desc" editor="workflow_rules_result_grid_tf" prompt="参数2描述"/>
                    <a:column name="parameter_2_url" editor="workflow_rules_result_grid_tf" prompt="lov组件文件名" width="150"/>
                    <a:column name="parameter_3_type" editor="workflow_rules_result_grid_tf" prompt="参数3类型"/>
                    <a:column name="parameter_3_desc" editor="workflow_rules_result_grid_tf" prompt="参数3描述"/>
                    <a:column name="parameter_3_url" editor="workflow_rules_result_grid_tf" prompt="lov组件文件名" width="150"/>
                    <a:column name="parameter_4_type" editor="workflow_rules_result_grid_tf" prompt="参数4类型"/>
                    <a:column name="parameter_4_desc" editor="workflow_rules_result_grid_tf" prompt="参数4描述"/>
                    <a:column name="parameter_4_url" editor="workflow_rules_result_grid_tf" prompt="lov组件文件名" width="150"/>
                    <a:column name="approver_flag" editor="workflow_rules_result_grid_cb" prompt="审批人可用"/>
                    <a:column name="notice_flag" id="通知人可用" editor="workflow_rules_result_grid_cb"/>
                </a:columns>
                <a:editors>
                    <a:textField id="workflow_rules_result_grid_tf"/>
                    <a:checkBox id="workflow_rules_result_grid_cb"/>
                    <a:comboBox id="workflow_rules_result_grid_cbb"/>
                </a:editors>
            </a:grid>
        </a:screenBody>
    </a:view>
</a:screen>
