<?xml version="1.0" encoding="UTF-8"?>
<!--
    $Author: Yenick
    $Date: 2018-04-17 
    $Revision: 1.0  
    $Purpose: 
-->
<a:screen xmlns:a="http://www.aurora-framework.org/application" customizationEnabled="true">
    <a:init-procedure>
        <a:model-query fetchAll="true" model="gld.gld_currency_vl" rootPath="acr512_currency_list"/>
        <a:model-query fetchAll="true" model="acr.ACR512.acr_invoice_business_type_list" rootPath="acr512_business_type_list"/>
    </a:init-procedure>
    <a:view>
        <a:link id="acr512_invoice_update_page" url="${/request/@context_path}/modules/cont/CON500/con_contract_update.screen"/>
        <a:link id="con_contract_get_layout_code_link_id" model="cont.CON500.con_contract_get_layout_code" modelaction="update"/>
        <script><![CDATA[
            function acr512_invoice_query() {
                $('acr512_invoice_result_ds').query();
            }
            
            function acr512_invoice_reset() {
                $('acr512_invoice_query_ds').reset();
            }
            
        ]]></script>
        <a:screen-include screen="modules/cont/CON500/con_contract_get_layout_code.screen"/>
        <a:dataSets>
            <a:dataSet id="acr512_currency_ds">
                <a:datas dataSource="/model/acr512_currency_list"/>
            </a:dataSet>
            <a:dataSet id="acr512_business_type_ds">
                <a:datas dataSource="/model/acr512_business_type_list"/>
            </a:dataSet>
            <a:dataSet id="acr512_invoice_kind_ds" lookupCode="ACR510_INVOICE_KIND"/>
            <a:dataSet id="acr512_invoice_merge_result_ds" autoPageSize="true" model="acr.ACR512.acr_invoice_update_query" queryDataSet="acr512_invoice_query_ds" selectable="true"/>
        </a:dataSets>
        <a:screenBody>
            <a:grid id="acr512_invoice_merge_update_grid_ds" bindTarget="acr512_invoice_merge_result_ds" marginHeight="250" marginWidth="30" navBar="true">
                <a:columns>
                    <a:column name="line_number" prompt="行号" width="120"/>
                    <a:column name="line_type_n" autoAdjust="false" prompt="行类型" showTitle="true" width="100"/>
                    <a:column name="quantity" autoAdjust="false" prompt="数量" showTitle="true" width="150"/>
                    <a:column name="price" prompt="单价" renderer="Aurora.formatMoney" width="80"/>
                    <a:column name="tax_type_rate" prompt="税率" renderer="Aurora.formatMoney" width="100"/>
                    <a:column name="tax_amount" prompt="税额" renderer="Aurora.formatMoney" width="120"/>
                    <a:column name="net_amount" prompt="未含税金额" renderer="Aurora.formatMoney" width="100"/>
                    <a:column name="total_amount" autoAdjust="false" prompt="金额" width="150"/>
                    <a:column name="net_price" autoAdjust="false" prompt="不含税单价" showTitle="true" width="150"/>
                </a:columns>
            </a:grid>
        </a:screenBody>
    </a:view>
</a:screen>
