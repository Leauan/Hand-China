<?xml version="1.0" encoding="UTF-8"?>
<!--
    $Author: LR  
    $Date: 2013-7-15 下午04:39:15  
    $Revision: 1.0  
    $Purpose: 
-->
<a:screen xmlns:a="http://www.aurora-framework.org/application" customizationEnabled="true">
    <a:init-procedure><![CDATA[
    ]]></a:init-procedure>
    <a:view>
        <a:link id="acp_invoice_check_link" url="${/request/@context_path}/modules/csh/CSH505/acp_invoice_check_for_wfl.screen"/>
        <script><![CDATA[
            function acp310_grid_update(invoice_hd_id) {
                var win = new Aurora.Window({
                    id: 'acp_invoice_check_window',
                    url: $('acp_invoice_check_link').getUrl(),
                    params: {
                        invoice_hd_id: invoice_hd_id,
                        winId: 'acp_invoice_check_window'
                    },
                    title: ' ',
                    fullScreen: true
                });
            }
            
            function acp310_document_number_render(value, record, name) {
                return '<a href="javascript:acp310_grid_update(' + record.get('invoice_hd_id') + ')">' + value + '</a>';
            }
        ]]></script>
        <a:dataSets>
            <a:dataSet id="acp310_invoice_result_ds" autoQuery="true" fetchAll="true" queryUrl="${/request/@context_path}/autocrud/csh.CSH505.acp_invoice_query_for_wfl/query?cashflow_id=${/parameter/@cashflow_id}"/>
        </a:dataSets>
        <a:screenBody>
            <a:grid id="acp310_invoice_update_grid_ds" bindTarget="acp310_invoice_result_ds" marginHeight="80" marginWidth="30" navBar="true" showRowNumber="true">
                <a:columns>
                    <a:column name="document_number" lock="true" prompt="HLS.DOCUMENT_NUMBER" renderer="acp310_document_number_render" width="120"/>
                    <a:column name="invoice_kind_desc" prompt="ACR.INVOICE_KIND" width="100"/>
                    <a:column name="invoice_number" prompt="ACR.INVOICE_NUMBER" width="120"/>
                    <a:column name="invoice_date" prompt="ACR.INVOICE_DATE" width="100"/>
                    <a:column name="contract_number" prompt="HLS.CONTRACT_NUMBER" width="120"/>
                    <a:column name="invoice_title" autoAdjust="false" prompt="ACR.INVOICE_TITLE" showTitle="true" width="150"/>
                    <a:column name="total_amount" align="right" prompt="ACR.TOTAL_AMOUNT" renderer="Aurora.formatMoney" width="100"/>
                    <a:column name="created_by_name" autoAdjust="false" prompt="ACR.CREATED_BY_NAME" showTitle="true" width="150"/>
                    <a:column name="invoice_status_desc" prompt="ACR.INVOICE_STATUS" width="100"/>
                    <a:column name="accounting_date" prompt="HLS.ACCOUNT_DATE" width="100"/>
                    <a:column name="invoice_bp_name" autoAdjust="false" prompt="HLS.CUSTOMER_NAME" showTitle="true" width="150"/>
                    <a:column name="contract_name" autoAdjust="false" prompt="HLS.CONTRACT_NAME" showTitle="true" width="150"/>
                </a:columns>
            </a:grid>
        </a:screenBody>
    </a:view>
</a:screen>
