<?xml version="1.0" encoding="UTF-8"?>
<a:screen xmlns:a="http://www.aurora-framework.org/application">
    <a:init-procedure/>
    <a:view>
        <script><![CDATA[
			function hls810_link_add(){
	           $('hls810_link_result_gd').showEditorByRecord($('hls810_link_result_ds').create());
			}
			function hls810_link_del(){
			    $('hls810_link_result_gd').remove();
			}
			function hls810_link_save(){
			    $('hls810_link_result_ds').submit();
			}
						
		]]></script>
        <a:dataSets>
            <a:dataSet id="hls811_bookmark_type_ds" lookupCode="BOOKMARK_TYPE"/>
            <a:dataSet id="underline_ds" lookupCode="UNDERLINE"/>
            <a:dataSet id="hls810_link_query_ds" autoCreate="true">
                <a:fields>
                    <a:field name="templet_id" defaultValue="${/parameter/@templet_id}"/>
                </a:fields>
            </a:dataSet>
            <a:dataSet id="hls810_link_result_ds" autoQuery="true" model="hls.HLS810.hls_doc_file_tmp_para_link" queryDataSet="hls810_link_query_ds" queryUrl="${/request/@context_path}/autocrud/hls.HLS810.hls_doc_file_tmp_para_link/query?templet_id=${/parameter/@templet_id}" selectable="true">
                <a:fields>
                    <a:field name="templet_id" defaultValue="${/parameter/@templet_id}"/>
                    <a:field name="enabled_flag" checkedValue="Y" defaultValue="Y" uncheckedValue="N"/>
                    <a:field name="templet_para_name" lovGridHeight="320" lovHeight="450" lovService="hls.HLS811.hls_doc_file_templet_para" lovWidth="500">
                        <a:mapping>
                            <a:map from="templet_para_id" to="templet_para_id"/>
                            <a:map from="bookmark_description" to="templet_para_name"/>
                            <a:map from="bookmark" to="templet_para_code"/>
                            <a:map from="bookmark_type_desc" to="bookmark_type_desc"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="font_family" defaultValue="微软雅黑"/>
                    <a:field name="font_size"/>
                    <a:field name="ind_width"/>
                    <a:field name="templet_para_code" lovGridHeight="320" lovHeight="450" lovService="hls.HLS811.hls_doc_file_templet_para" lovWidth="500">
                        <a:mapping>
                            <a:map from="templet_para_id" to="templet_para_id"/>
                            <a:map from="bookmark_description" to="templet_para_name"/>
                            <a:map from="bookmark" to="templet_para_code"/>
                            <a:map from="bookmark_type_desc" to="bookmark_type_desc"/>
                        </a:mapping>
                    </a:field>
                    <a:field name="bookmark_type_desc"/>
                    <a:field name="underline_desc" displayField="code_value_name" options="underline_ds" returnField="underline" valueField="code_value"/>
                    <!-- <a:field name="bookmark_type_desc"  displayField="code_value_name" options="hls811_bookmark_type_ds" returnField="bookmark_type" valueField="code_value"/> -->
                    <!-- <a:field name="bookmark_type_name" lovGridHeight="320" lovHeight="450" lovService="hls.HLS811.hls_doc_file_templet_para" lovWidth="500">
                        <a:mapping>
                            <a:map from="templet_para_id" to="templet_para_id"/>
                            <a:map from="bookmark_description" to="templet_para_name"/>
                            <a:map from="bookmark" to="templet_para_code"/>
                            <a:map from="bookmark_type_desc" to="bookmark_type_name" />
                        </a:mapping>
                    </a:field> -->
                </a:fields>
            </a:dataSet>
        </a:dataSets>
        <a:screenBody>
            <a:screenTopToolbar>
                <a:screenTitle/>
                <a:gridButton click="hls810_link_add" text="新增"/>
                <a:gridButton click="hls810_link_del" text="删除"/>
                <a:gridButton click="hls810_link_save" text="HLS.SAVE"/>
            </a:screenTopToolbar>
            <a:grid id="hls810_link_result_gd" bindTarget="hls810_link_result_ds" height="320" navBar="true" width="790">
                <a:columns>
                    <a:column name="templet_para_code" editor="hls810_link_loved" prompt="参数代码" width="100"/>
                    <a:column name="templet_para_name" editor="hls810_link_loved" prompt="参数" width="130"/>
                    <a:column name="bookmark_type_desc" prompt="书签类型" width="80"/>
                    <a:column name="font_family" align="center" editor="text_ed" prompt="字体型号"/>
                    <a:column name="font_size" align="center" editor="text_ed" prompt="字体大小"/>
                    <a:column name="ind_width" align="center" editor="text_ed" prompt="左缩距"/>
                    <a:column name="underline_desc" align="center" editor="hls810_link_combox" prompt="下划线"/>
                    <a:column name="enabled_flag" editor="hls810_link_checked" prompt="启用" width="50"/>
                </a:columns>
                <a:editors>
                    <a:lov id="hls810_link_loved"/>
                    <a:textField id="text_ed"/>
                    <a:checkBox id="hls810_link_checked"/>
                    <a:comboBox id="hls810_link_combox"/>
                </a:editors>
            </a:grid>
        </a:screenBody>
    </a:view>
</a:screen>
