<?xml version="1.0" encoding="UTF-8"?>
<a:screen xmlns:a="http://www.aurora-framework.org/application">
    <a:init-procedure/>
    <a:view>
        <script><![CDATA[
			function query_overdue_query_result_ds(){
				$('overdue_query_result_ds').query();
			}
			function reset_overdue_query_query_ds(){
				$('overdue_query_query_ds').reset();
			}
			 function render_grid_id(value, record, name) {
			     debugger;
                    if(value<1 && value>0){
                    return "0" + value;
                    }
                return value;
            }
		]]></script>
        <a:dataSets>
            <a:dataSet id="contract_status_ds" lookupCode="CON390_CONTRACT_STATUS"/>
            <a:dataSet id="overdue_query_query_ds" autoCreate="true">
                <a:fields>
                    <a:field name="project_number"/>
                    <a:field name="contract_status_n" displayField="code_value_name" options="contract_status_ds" returnField="contract_status_n" valueField="code_value_name"/>
                </a:fields>
            </a:dataSet>
            <a:dataSet id="overdue_query_result_ds" autoQuery="true" model="cont.CON924.overdue_query" queryDataSet="overdue_query_query_ds">
                <a:fields>
                    <a:field name="contract_number"/>
                    <a:field name="product_plan_id_n"/>
                    <a:field name="province_sp"/>
                    <a:field name="city_sp"/>
                    <a:field name="invoice_agent_id_n"/>
                    <a:field name="bp_class_n"/>
                    <a:field name="withhold_way_n"/>
                    <a:field name="project_number"/>
                    <a:field name="bp_name"/>
                    <a:field name="overdue_status_type_n"/>
                    <a:field name="overdue_due_date"/>
                    <a:field name="contract_status_n"/>
                    <a:field name="inception_of_lease"/>
                    <a:field name="risk_rank"/>
                    <a:field name="overdue_times"/>
                    <a:field name="overdue_max_days"/>
                    <a:field name="overdue_amount_sum"/>
                    <a:field name="overdue_principal"/>
                    <a:field name="overdue_interest"/>
                    <a:field name="penalty"/>
                    <a:field name="principal"/>
                    <a:field name="due_amount"/>
                    <a:field name="total_principal"/>
                    <a:field name="due_date"/>
                    <a:field name="lease_times"/>
                    <a:field name="group_name"/>
                    <a:field name="staff_name"/>
                    <a:field name="cell_phone"/>
                    <a:field name="bp_name_sp"/>
                    <a:field name="cell_phone_sp"/>
                    <a:field name="collecting_fee"/>
                    <a:field name="age"/>
                    <a:field name="position_n"/>
                    <a:field name="down_payment"/>
                    <a:field name="down_payment_ratio"/>
                    <a:field name="balloon"/>
                    <a:field name="balloon_ratio"/>
                    <a:field name="direct_debit_bank_id_n"/>
                    <a:field name="dd_bank_account_num"/>
                    <a:field name="dd_bank_account_name"/>
                    <a:field name="car_type_n"/>
                    <a:field name="business_type_n"/>
                    <a:field name="insurance_flag"/>
                    <a:field name="gps_flag"/>
                    <a:field name="producer"/>
                    <a:field name="brand_id_n"/>
                    <a:field name="series_id_n"/>
                    <a:field name="model_id_n"/>
                    <a:field name="item_frame_number"/>
                    <a:field name="color_of_apprearance"/>
                    <a:field name="item_engine_number"/>
                    <a:field name="license_number"/>
                    <a:field name="invoice_price"/>
                    <a:field name="guide_price"/>
                    <a:field name="finance_amount"/>
                    <a:field name="int_rate_display"/>
                    <a:field name="pmt"/>
                    <a:field name="bp_info"/>
                    <a:field name="id_type"/>
                    <a:field name="id_card_no"/>
                    <a:field name="work_unit"/>
                    <a:field name="work_unit_address"/>
                    <a:field name="living_address"/>
                    <a:field name="address_on_resident_booklit"/>
                    <a:field name="gps1"/>
                </a:fields>
            </a:dataSet>
        </a:dataSets>
        <a:screenTopToolbar>
            <a:screenTitle/>
            <a:gridButton click="query_overdue_query_result_ds" text="查询"/>
        </a:screenTopToolbar>
        <a:form column="4" labelWidth="100" marginWidth="30" title="逾期查询">
            <a:textField name="invoice_agent_id_n" bindTarget="overdue_query_query_ds" prompt="经销商名称"/>
            <a:textField name="project_number" bindTarget="overdue_query_query_ds" prompt="申请编号"/>
            <a:textField name="contract_number" bindTarget="overdue_query_query_ds" prompt="合同编号"/>
            <a:comboBox name="contract_status_n" bindTarget="overdue_query_query_ds" prompt="合同状态"/>
        </a:form>
        <a:grid id="grid_id" bindTarget="overdue_query_result_ds" marginHeight="230" marginWidth="30" navBar="true">
            <a:toolBar>
                <a:button type="excel"/>
            </a:toolBar>
            <a:columns>
                <a:column name="contract_number" prompt="合同编号" width="100"/>
                <a:column name="product_plan_id_n" prompt="产品名称" width="100"/>
                <a:column name="province_sp" prompt="省" width="100"/>
                <a:column name="city_sp" prompt="市" width="100"/>
                <a:column name="invoice_agent_id_n" prompt="提报店名称" width="100"/>
                <a:column name="bp_class_n" prompt="申请类型" width="100"/>
                <a:column name="withhold_way_n" prompt="扣款方式" width="100"/>
                <a:column name="project_number" prompt="申请编号" width="100"/>
                <a:column name="bp_name" prompt="客户名称" width="100"/>
                <!--  <a:column name="overdue_status_type_n" prompt="逾期状态" width="100"/> -->
                <a:column name="overdue_due_date" prompt="逾期日期" renderer="Aurora.formatDate" width="100"/>
                <a:column name="contract_status_n" prompt="合同状态" width="100"/>
                <a:column name="inception_of_lease" prompt="合同生效日期" renderer="Aurora.formatDate" width="100"/>
                <!--  <a:column name="risk_rank" prompt="风险等级" width="100"/>
                <a:column name="overdue_times" prompt="逾期期数" width="100"/>
                <a:column name="overdue_max_days" prompt="实际逾期天数" width="100"/> -->
                <!--  <a:column name="overdue_amount_sum" prompt="逾期金额" width="100"/> -->
                <a:column name="overdue_principal" prompt="逾期本金" width="100"/>
                <a:column name="overdue_interest" prompt="逾期利息" width="100"/>
                <a:column name="penalty" prompt="逾期罚息" width="100"/>
                <a:column name="principal" prompt="剩余本金" width="100"/>
                <!-- <a:column name="due_amount" editor="grid_id_numberField_id" width="100"/>
                <a:column name="total_principal" prompt="剩余本金" width="100"/> -->
                <a:column name="due_date" prompt="还款日" renderer="Aurora.formatDate" width="100"/>
                <a:column name="lease_times" prompt="期限" width="100"/>
                <!--  <a:column name="group_name" prompt="催收组别" width="100"/>
                <a:column name="staff_name" prompt="催收人员" width="100"/> -->
                <a:column name="cell_phone" prompt="手机号码" width="100"/>
                <a:column name="bp_name_sp" prompt="配偶姓名" width="100"/>
                <a:column name="cell_phone_sp" prompt="配偶手机号" width="100"/>
                <a:column name="collecting_fee" prompt="催收费用" width="100"/>
                <a:column name="age" prompt="申请人年龄" width="100"/>
                <a:column name="position_n" prompt="申请人职业" width="100"/>
                <a:column name="down_payment" prompt="首付款" width="100"/>
                <a:column name="down_payment_ratio" prompt="首付款比例" renderer="render_grid_id" width="100"/>
                <a:column name="balloon" prompt="尾款" width="100"/>
                <a:column name="balloon_ratio" prompt="尾付款比例" renderer="render_grid_id" width="100"/>
                <a:column name="direct_debit_bank_id_n" prompt="自动扣款银行" width="100"/>
                <a:column name="dd_bank_account_num" prompt="自动扣款账号" width="100"/>
                <a:column name="dd_bank_account_name" prompt="自动扣款账号名" width="100"/>
                <a:column name="car_type_n" prompt="车辆类型" width="100"/>
                <a:column name="business_type_n" prompt="租赁类型" width="100"/>
                <a:column name="insurance_flag" prompt="是否融保险" width="100"/>
                <a:column name="gps_flag" prompt="是否融GPS" width="100"/>
                <a:column name="producer" prompt="制造商" width="100"/>
                <a:column name="brand_id_n" prompt="车辆品牌" width="100"/>
                <a:column name="series_id_n" prompt="车系" width="100"/>
                <a:column name="model_id_n" prompt="车型" width="100"/>
                <a:column name="item_frame_number" prompt="车架号" width="100"/>
                <a:column name="color_of_apprearance" prompt="颜色" width="100"/>
                <a:column name="item_engine_number" prompt="发动机号" width="100"/>
                <a:column name="license_number" prompt="车牌号" width="100"/>
                <a:column name="invoice_price" prompt="实际销售价" width="100"/>
                <a:column name="guide_price" prompt="市场指导价" width="100"/>
                <a:column name="finance_amount" prompt="租赁融资额" width="100"/>
                <a:column name="int_rate_display" editor="grid_id_numberField_id" prompt="租赁年利率" renderer="render_grid_id" width="100"/>
                <a:column name="pmt" prompt="每期租金" width="100"/>
                <a:column name="bp_info" prompt="店面属性" width="100"/>
                <a:column name="id_type" prompt="证件类型" width="100"/>
                <a:column name="id_card_no" prompt="证件号码" width="100"/>
                <a:column name="work_unit" prompt="单位名称" width="100"/>
                <a:column name="work_unit_address" prompt="单位地址" width="100"/>
                <a:column name="living_address" prompt="现居住地址" width="100"/>
                <a:column name="address_on_resident_booklit" prompt="户籍地地址" width="100"/>
                <a:column name="gps1" prompt="GPS/SIM卡号" width="100"/>
            </a:columns>
            <!-- <a:editors>
                <a:numberField id="grid_id_numberField_id"/>
                <a:textField id="grid_id_textField_id"/>
            </a:editors> -->
        </a:grid>
        <a:hBox/>
    </a:view>
</a:screen>
