<?xml version="1.0" encoding="UTF-8"?>
<bm:model xmlns:f="aurora.database.features" xmlns:bm="http://www.aurora-framework.org/schema/bm" alias="t1" baseTable="CON_CONTRACT_DF_CAR_INFO_LV">
    <bm:fields>
        <bm:field name="contract_number" databaseType="VARCHAR2" datatype="java.lang.String" physicalName="CONTRACT_NUMBER" prompt="CON_CONTRACT_DF_CAR_INFO_LV.CONTRACT_NUMBER"/>
        <bm:field name="project_number" databaseType="VARCHAR2" datatype="java.lang.String" physicalName="PROJECT_NUMBER" prompt="CON_CONTRACT_DF_CAR_INFO_LV.PROJECT_NUMBER"/>
        <bm:field name="bp_name" databaseType="VARCHAR2" datatype="java.lang.String" physicalName="BP_NAME" prompt="CON_CONTRACT_DF_CAR_INFO_LV.BP_NAME"/>
        <bm:field name="son_code" databaseType="VARCHAR2" datatype="java.lang.String" physicalName="SON_CODE" prompt="CON_CONTRACT_DF_CAR_INFO_LV.SON_CODE"/>
        <bm:field name="model_code" databaseType="VARCHAR2" datatype="java.lang.String" physicalName="MODEL_CODE" prompt="CON_CONTRACT_DF_CAR_INFO_LV.MODEL_CODE"/>
        <bm:field name="item_frame_number" databaseType="VARCHAR2" datatype="java.lang.String" physicalName="ITEM_FRAME_NUMBER" prompt="CON_CONTRACT_DF_CAR_INFO_LV.ITEM_FRAME_NUMBER"/>
        <bm:field name="finance_amount" databaseType="VARCHAR2" datatype="java.lang.String" physicalName="FINANCE_AMOUNT" prompt="CON_CONTRACT_DF_CAR_INFO_LV.FINANCE_AMOUNT"/>
        <bm:field name="fee" databaseType="NUMBER" datatype="java.lang.Long" physicalName="FEE" prompt="CON_CONTRACT_DF_CAR_INFO_LV.FEE"/>
    </bm:fields>
    <bm:features>
        <f:standard-who/>
    </bm:features>
    <bm:operations>
        <bm:operation name="insert">
            <bm:update-sql><![CDATA[
                BEGIN
                CSH_DF_PAYMENT_PKG.update_con_df_car_info(p_hd_id=> ${/parameter/@v_id},
                                            p_car_info_id =>${@car_info_id},
                                            p_user_id =>${/session/@user_id});
                END;
            ]]></bm:update-sql>
        </bm:operation>
        <bm:operation name="execute">
            <bm:update-sql><![CDATA[
                BEGIN
                     select CON_CONTRACT_DF_CAR_INFO_HD_s.nextval into  ${@v_id} from dual;
                END;
            ]]></bm:update-sql>
            <bm:parameters>
                <bm:parameter name="v_id" output="true" outputPath="/parameter/@v_id"/>
            </bm:parameters>
        </bm:operation>
        <bm:operation name="update">
            <bm:update-sql><![CDATA[
                BEGIN
                CSH_DF_PAYMENT_PKG.save_con_df_car_info(p_hd_id=> ${/parameter/@v_id},
                                            p_user_id =>${/session/@user_id});
                END;
            ]]></bm:update-sql>
        </bm:operation>
    </bm:operations>
</bm:model>
