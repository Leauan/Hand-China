</head>
<body>
	<script>
		function init_oil(arr){
			
			var sum=0;
			var x_data = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20];
			var y_data = new Array();
			for(var i=0;i<arr.length;i++){
				y_data[i] = arr[i].get('oil_consumption');			
			}
			var oil_div = document.getElementById("oil_div");
			Ext.get("oil_id").remove(); 
			oil_div.innerHTML='<div id="oil_id" style="display:none;width:330px;height:155px;margin-left:10px;border-bottom-style:solid;border-bottom-width:1px"></div>';
			var oil_id = document.getElementById("oil_id");
			for(var i=0;i<x_data.length;i++){
				var entity_div = document.createElement("div");
				var y_span = document.createElement("span");
				var _div = document.createElement("div");
				var x_span = document.createElement("span");
				
				entity_div.style.position = "relative";
				entity_div.style.width = 11 + 'px';
				entity_div.style.cssFloat = 'left';
				entity_div.style.marginRight = 5 + 'px';
				if(y_data[i] != null){
					entity_div.style.marginTop = (143-y_data[i]*1.5) + 'px';
				}else{
					entity_div.style.marginTop = 154 + 'px';
				}
				y_span.innerHTML = y_data[i];
				y_span.style.position = "relative";
				y_span.style.fontSize = 9+'px';
				y_span.style.textAlign = "center";
				
				
				_div.style.width = 11 + 'px';
				_div.style.height = y_data[i]*1.5 + 'px';
				if(y_data[i] != null){
					sum+=y_data[i];
				}
				_div.style.background="#11B0D9";
				
				x_span.innerHTML=x_data[i];
				x_span.style.position = "relative";
				x_span.style.fontSize = 9+'px';
				x_span.style.textAlign = "center";
				
				if(y_data[i] != null){
					entity_div.appendChild(y_span);
					entity_div.appendChild(_div);
				}
				entity_div.appendChild(x_span);
				
				
				
				oil_id.appendChild(entity_div);
	
			}
	
			var oil_sum_id = document.getElementById('oil_sum_id');
			oil_sum_id.innerHTML="汇总("+sum+"L)";
			if(arr.length != 0){	
				oil_sum_id.style.display="";
				oil_id.style.display="";
			}	
		}
	</script>
    <table>
    	<tr>
			<td><div style="width:15px;font-size:15px;font-family: 微软雅黑,tahoma;">消耗油量</div></td>
		    <td>
		       <div style="width:350px;height:200px;border-style:solid;border-color:#4572A7;border-width:2px">
			      <div style="width:350px;height:15px">
				      <span style="position:absolute;">油量(L)</span>
					  <span id="oil_sum_id" style="display:none;position:relative;float:right;"></span>
				  </div>
				  <div id="oil_div" style="height:160px">
				  	  <div id="oil_id" style="display:none;width:330px;height:155px;margin-left:10px;border-bottom-style:solid;border-bottom-width:1px"></div>
				  </div>
				  <span style="position:relative;float:right;">(第几天)</span>
			   </div>
			</td>
		</tr>    
	</table>
</body>
</html>