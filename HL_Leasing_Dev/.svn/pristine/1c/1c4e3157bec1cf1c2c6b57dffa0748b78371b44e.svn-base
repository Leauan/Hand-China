<?xml version="1.0" encoding="UTF-8"?>
<!--
    $Author: ZLF 
    $Date: 2014-12-8 下午12:16:37  
    $Revision: 1.0  
    $Purpose: 
-->
<bm:model xmlns:bm="http://www.aurora-framework.org/schema/bm">
    <bm:operations>
        <bm:operation name="execute">
            <bm:update-sql><![CDATA[
            begin
                UPDATE
                    con_contract t
                SET
                    t.con_maintain_flag='N',
                    t.reject_reason = ${@reject_reason}
                WHERE
                    t.contract_id=${@contract_id} AND
                    t.data_class ='NORMAL';
                DELETE FROM con_contract_content ct WHERE ct.contract_id=${@contract_id};
            end;
            ]]></bm:update-sql>
            <bm:parameters>
                <bm:parameter name="contract_id"/>
            </bm:parameters>
        </bm:operation>
    </bm:operations>
</bm:model>
