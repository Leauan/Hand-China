<?xml version="1.0" encoding="UTF-8"?>
<bm:model xmlns:bm="http://www.aurora-framework.org/schema/bm" needAccessControl="false">
    <bm:operations>
        <bm:operation name="update">
            <bm:parameters>
                <bm:parameter name="document_category" dataType="java.lang.String" input="true" output="false"/>
                <bm:parameter name="document_type" dataType="java.lang.String" input="true" output="false"/>
                <bm:parameter name="company_id" dataType="java.lang.Long" input="true" output="false"/>
                <bm:parameter name="lease_channel" dataType="java.lang.String" input="true" output="false"/>
                <bm:parameter name="first_flag" dataType="java.lang.String" input="true" output="false"/>
                <bm:parameter name="ka_prj_id" dataType="java.lang.Long" input="true" output="false"/>
                <bm:parameter name="user_id" dataType="java.lang.Long" input="true" output="false"/>
                <bm:parameter name="document_number" dataType="java.lang.String" input="false" output="true" outputPath="@document_number"/>
            </bm:parameters>
            <bm:update-sql><![CDATA[
                begin
                    HLS_DOCUMENT_SAVE_PKG.GET_NEW_PRJ_NUMBER
                    (
                        p_document_category=>${@document_category},
                        p_document_type=>${@document_type},
                        p_company_id=>${/session/@company_id},
                        p_lease_channel=>${@lease_channel},
                        p_first_flag=>${@first_flag},
                        p_ka_prj_id=>${@ka_prj_id},
                        p_user_id=>${/session/@user_id},
                        p_document_number=>${@document_number}
                    );
                end;]]></bm:update-sql>
        </bm:operation>
    </bm:operations>
</bm:model>
