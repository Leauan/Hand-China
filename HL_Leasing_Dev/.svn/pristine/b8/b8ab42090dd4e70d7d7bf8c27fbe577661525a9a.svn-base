<?xml version="1.0" encoding="UTF-8"?>
<!--
    $Author: qwm  
    $Date: 2013-7-18 下午7:01:56  
    $Revision: 1.0  
    $Purpose: 
-->
<bm:model xmlns:bm="http://www.aurora-framework.org/schema/bm">
    <bm:operations>
        <bm:operation name="execute">
            <bm:parameters>
                <bm:parameter name="et_agreement_id" dataType="java.lang.Long" input="true" output="false" required="true"/>
                <bm:parameter name="user_id" dataType="java.lang.Long" input="true" output="false"/>
                <bm:parameter name="ref_n04" dataType="java.lang.Double" input="true" output="false"/>
                <bm:parameter name="ref_n05" dataType="java.lang.Double" input="true" output="false"/>
                <bm:parameter name="ref_n06" dataType="java.lang.Double" input="true" output="false"/>
                <bm:parameter name="ref_n07" dataType="java.lang.Double" input="true" output="false"/>
                <bm:parameter name="et_total_amount" dataType="java.lang.Double" input="true" output="false"/>
                <bm:parameter name="et_agreement_number" input="true" output="true"/>
            </bm:parameters>
            <bm:update-sql><![CDATA[
                begin
                    CON_CONTRACT_ET_PKG.ET_SAVE
                    (
                        p_et_agreement_id=>${@et_agreement_id},
                        p_user_id=>${/session/@user_id},
                        p_ref_n04=>${@ref_n04},
                        p_ref_n05 =>${@ref_n05},
    					p_ref_n06 =>${@ref_n06},
                        p_ref_n07 => ${@ref_n07},
                        p_note    => ${@note},
                        p_et_total_amount =>${@et_total_amount},
                        p_et_agreement_number => ${@et_agreement_number}
                    );
                    
                end;]]></bm:update-sql>
        </bm:operation>
        <bm:operation name="update">
            <bm:parameters>
                <bm:parameter name="et_agreement_id" dataType="java.lang.Long" input="true" output="false" required="true"/>
                <bm:parameter name="user_id" dataType="java.lang.Long" input="true" output="false"/>
                <bm:parameter name="ref_n04" dataType="java.lang.Double" input="true" output="false"/>
                <bm:parameter name="ref_n05" dataType="java.lang.Double" input="true" output="false"/>
                <bm:parameter name="ref_n06" dataType="java.lang.Double" input="true" output="false"/>
                <bm:parameter name="ref_n07" dataType="java.lang.Double" input="true" output="false"/>
                <bm:parameter name="et_total_amount" dataType="java.lang.Double" input="true" output="false"/>
                <bm:parameter name="et_agreement_number" input="true" output="true"/>
            </bm:parameters>
            <bm:update-sql><![CDATA[
                begin
                    CON_CONTRACT_ET_PKG.ET_SAVE_WFL
                    (
                        p_et_agreement_id=>${@et_agreement_id},
                        p_user_id=>${/session/@user_id},
                        p_ref_n04=>${@ref_n04},
                        p_ref_n05 =>${@ref_n05},
    					p_ref_n06 =>${@ref_n06},
                        p_ref_n07 => ${@ref_n07},
                        p_note    => ${@note},
                        p_et_total_amount =>${@et_total_amount},
                        p_write_off_desc =>${@write_off_desc},
                        p_et_agreement_number => ${@et_agreement_number}
                    );
                    
                end;]]></bm:update-sql>
        </bm:operation>
    </bm:operations>
</bm:model>
