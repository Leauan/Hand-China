<?xml version="1.0" encoding="UTF-8"?>
<a:screen xmlns:a="http://www.aurora-framework.org/application" trace="true">
    <a:init-procedure><![CDATA[
    ]]></a:init-procedure>
    <a:view>
        <a:link id="hls_public_notice_detail_link" url="${/request/@context_path}/hls_public_notice_detail.screen"/>
        <script><![CDATA[
    	function notice_name_renderer(value,record,name){
               var hls_notice_definition_id = record.get('hls_notice_definition_id');
               var url = '<a href="javascript:NoticeViewDetail(' + hls_notice_definition_id + ')">' + '详细' + '</a>';
               return url;
           } 
           
        function NoticeViewDetail(hls_notice_definition_id){
               url = $('hls_public_notice_detail_link').getUrl();
               new Aurora.Window({
                   id:'notice_detail_window',
                   url:url + '?hls_notice_definition_id=' + hls_notice_definition_id,
                   title:'通知明细',
                   height:520,
                   width:590
               });
         }
    ]]></script>
        <a:dataSets>
            <!--             <a:dataSet id="sys_messages_notify_list" autoCount="true" autoQuery="true" fetchAll="false" model="sys.sys_messages_notify_list">
                <a:fields>
                    <a:field name="message_id" prompt="ID"/>
                    <a:field name="message_code" prompt="预警代码"/>
                    <a:field name="message_desc" prompt="预警描述"/>
                    <a:field name="message_content" prompt="预警内容"/>
                </a:fields>
                                    <events>
                        <event name="load" handler="dsloadnotify"/>
                    </events>
            </a:dataSet> -->
            <!-- <a:dataSet id="wfl_workflow_instance_for_todo_query" autoCreate="true"/> -->
            <!-- <a:dataSet id="wfl_workflow_instance_for_todo" autoCount="true" autoQuery="true" fetchAll="false" model="wfl.wfl_workflow_instance_for_todo" queryDataSet="wfl_workflow_instance_for_todo_query">
                    <a:fields>
                        <a:field name="attribute_c_4" checkedValue="Y" readOnly="true" uncheckedValue="N"/>
                    </a:fields>
                    <events>
                        <event name="load" handler="dsloadtodo"/>
                    </events>
                </a:dataSet> -->
            <!-- <a:dataSet id="wfl_workflow_notification_list" autoCount="true" autoQuery="true" fetchAll="false" model="wfl.wfl_workflow_notification_list">
                    <a:fields>
                            <a:field name="document_number" prompt="WFL_WORKFLOW.ORDER_NO"/>
                            <a:field name="record_id"/>
                            <a:field name="node_name" prompt="WFL_WORKFLOW.NODE_NAME"/>
                            <a:field name="employee_name" prompt="WFL_WORKFLOW_INSTANCE.CREATED_BY_NAME"/>
                            <a:field name="workflow_name" prompt="WORKFLOW.WORKFLOW_NAME"/>
                            <a:field name="attribute_n_1"/>
                            <a:field name="attribute_n_2"/>
                            <a:field name="attribute_n_3"/>
                            <a:field name="attribute_n_4"/>
                            <a:field name="attribute_n_5"/>
                            <a:field name="attribute_n_6"/>
                            <a:field name="attribute_n_7"/>
                            <a:field name="attribute_n_8"/>
                            <a:field name="attribute_n_9"/>
                            <a:field name="attribute_n_10"/>
                            <a:field name="attribute_c_1" prompt="HLS_LEASE_REQUISITION.CONTRACT_NUMBER"/>
                            <a:field name="attribute_c_2" prompt="CUSTOMER"/>
                            <a:field name="attribute_c_3" prompt="HLS_CUSTOMER_PSN_VEHICLE.PATTEN_NAME"/>
                            <a:field name="attribute_c_4"/>
                            <a:field name="attribute_c_5"/>
                            <a:field name="attribute_c_6"/>
                            <a:field name="attribute_c_7"/>
                            <a:field name="attribute_c_8"/>
                            <a:field name="attribute_c_9"/>
                            <a:field name="attribute_c_10"/>
                            <a:field name="attribute_d_1"/>
                            <a:field name="attribute_d_2"/>
                            <a:field name="attribute_d_3"/>
                            <a:field name="attribute_d_4"/>
                            <a:field name="attribute_d_5"/>
                            <a:field name="attribute_d_6"/>
                            <a:field name="attribute_d_7"/>
                            <a:field name="attribute_d_8"/>
                            <a:field name="attribute_d_9"/>
                            <a:field name="attribute_d_10"/>
                            <a:field name="node_name" prompt="WFL_WORKFLOW.NODE_NAME"/>
                            <a:field name="apply_date" prompt="WFL_WORKFLOW_INSTANCE.CREATION_DATE"/>
                            <a:field name="date_limit" prompt="WFL_WORKFLOW_INSTANCE.DATE_LIMIT"/>
                            <a:field name="order_type" prompt="WFL_WORKFLOW.ORDER_TYPE"/>
                        </a:fields>
                    </a:dataSet> -->
            <!-- <a:dataSet id="wfl_workflow_return_list" autoCount="true" autoQuery="true" fetchAll="false" model="wfl.wfl_workflow_return_list">
                        <events>
                            <event name="load" handler="dsloadreturnlist"/>
                        </events>
                    </a:dataSet> -->
            <a:dataSet id="sys_notice_list" autoQuery="true" fetchAll="true" model="sys.sys_notice" pageSize="10"/>
        </a:dataSets>
        <a:screenBody>
            <a:hBox>
                <a:grid bindTarget="sys_notice_list" height="200" marginWidth="30" navBar="true">
                    <a:columns>
                        <a:column name="sequence_num" align="center" prompt="序号" width="80"/>
                        <a:column name="notice_name" prompt="公告标题" width="240"/>
                        <a:column name="notice_msg" prompt="公告内容" width="615"/>
                        <a:column name="start_date" align="center" prompt="开始时间" renderer="Aurora.formatDate" width="150"/>
                        <a:column name="end_date" align="center" prompt="结束时间" renderer="Aurora.formatDate" width="150"/>
                        <a:column name="attachment" align="center" prompt="详细" renderer="notice_name_renderer" width="100"/>
                    </a:columns>
                </a:grid>
                <!--                 <div id="sys_messages_notify_id">
                    <a:grid bindtarget="sys_messages_notify_list" height="200" navBar="true" width="725">
                        <a:columns>
                            <a:column name="message_code" sortable="true" width="150"/>
                            <a:column name="message_desc" sortable="true" width="170"/>
                            <a:column name="message_content" sortable="true" width="400"/>
                        </a:columns>
                    </a:grid>
                </div> -->
            </a:hBox>
            <!--                     <a:hBox>
                        <a:textField name="customer_name" bindTarget="wfl_workflow_instance_for_todo_query" prompt="客户">
                            <a:events>
                                <a:event name="enterdown" handler="for_todo_query_enter"/>
                            </a:events>
                        </a:textField>
                        <a:button click="wfl_todo_query_fun" text="查询"/>
                    </a:hBox> -->
            <!--                     <div id="wfl_workflow_todo_id">
                        <a:grid bindtarget="wfl_workflow_instance_for_todo" height="300" marginwidth="40" navbar="true" width="600">
                            <a:columns>
                                <a:column name="document_number" renderer="approverecord" sortable="true" width="100"/>
                                <a:coumun name="attribute_c_2" prompt="CUSTOMER" sortable="true" width="80"/>
                                <a:coumun name="attribute_c_3" prompt="HLS_CUSTOMER_PSN_VEHICLE.PATTEN_NAME" sortable="true" width="60"/>
                                <a:column name="attribute_c_4" editor="cbd" prompt="征信" width="80"/>
                                <a:column name="node_name" sortable="true" width="68"/>
                                <a:column name="employee_name" sortable="true" width="80"/>
                                <a:column name="order_type" sortable="true" width="60"/>
                                <a:column name="creation_date_view" sortable="true" width="70"/>
                                <a:column name="apply_date_view" sortable="true" width="70"/>
                            </a:columns>
                            <a:editors>
                                <a:checkBox id="cbd"/>
                            </a:editors>
                        </a:grid>
                    </div> -->
            <div id="wfl_workflow_return_id">
                <!--   <a:grid bindtarget="wfl_workflow_return_list" height="200" marginwidth="40" navBar="true" width="600">
                            <a:columns>
                                <a:column name="document_number" align="center" renderer="returnrecord" sortable="true" width="80"/>
                                <a:coumun name="order_type" align="center" sortable="true" width="60"/>
                                <a:coumun name="workflow_name" align="center" sortable="true" width="80"/>
                                <a:coumun name="name" align="center" prompt="WFL_INSTANCE_QUERY.USER_NAME" sortable="true" width="60"/>
                                <a:coumun name="last_update_date" align="center" prompt="HLS_WFL_INSTANCE_QUERY.RETURN_DATE" sortable="true" width="80"/>
                                <a:coumun name="type" align="center" sortable="true" width="80"/>
                                <a:coumun name="attribute_c_2" align="center" prompt="CUSTOMER" sortable="true" width="75"/>
                                <a:coumun name="attribute_c_3" prompt="HLS_CUSTOMER_PSN_VEHICLE.PATTEN_NAME" sortable="true" width="74"/>
                            </a:columns>
                        </a:grid>
                        -->
                <a:screen-include screen="modules/zjwfl/ZJWFL5110/zj_wfl_to_do_list.screen"/>
            </div>
        </a:screenBody>
    </a:view>
</a:screen>
